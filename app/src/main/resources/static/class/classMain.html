<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="../node_modules/jquery/dist/jquery.min.js"></script>
<!-- header, footer 삽입 제이쿼리-->
<script type="text/javascript">

    $(document).ready(function(){
        $('.footer').load('../footer/footer.html');
        // $(".header").load("../header/user/loggedheader.html");
    })
</script>
</head>
<link href="css.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>



<body>
<div class="header"></div>
<div class="search">
    <select name="region" class="re-search">
        <option selected disabled hidden>지역</option>
              <option value="전체">전체</option>
              <option value="서울특별시">서울특별시</option>
              <option value="부산광역시">부산광역시</option>
              <option value="대구광역시">대구광역시</option>
              <option value="인천광역시">인천광역시</option>
              <option value="광주광역시">광주광역시</option>
              <option value="대전광역시">대전광역시</option>
              <option value="울산광역시">울산광역시</option>
              <option value="세종특별자치시">세종특별자치시</option>
              <option value="경기도">경기도</option>
              <option value="강원도">강원도</option>
              <option value="충청북도">충청북도</option>
              <option value="충청남도">충청남도</option>
              <option value="전라북도">전라북도</option>
              <option value="전라남도">전라남도</option>
              <option value="경상북도">경상북도</option>
              <option value="경상남도">경상남도</option>
              <option value="제주도">제주도</option>
    </select>
    <select class="re-search">
        <option>도시</option>
        <option>관악구</option>
    </select>
    <i class="fas fa-search"></i>
    <input type="text" placeholder="검색어를 입력해주세요." style="width:300px;">
    <a href="createClass-1.html"><button id="open-btn" type="button">클래스 개설하기</button></a>
</div>
<div class="div-container">
<div id="div-body" class="row row-cols-1 row-cols-md-3 g-4">
</div>
</div>
<div class="footer"></div>
<!-- header, footer 삽입 제이쿼리-->
<!-- <script type="text/javascript">

    $(document).ready(function(){
        $('.footer').load('../footer/footer.html');
        $("#footer-wrapper").load("/footer/footer.html");
    })
</script> -->


<script>
function loadData(data) {
    fetch(data)
      .then((response) => {
            return response.json()
      }).then((classList) => {
       console.log(classList)

       for (const classInfo of classList) {
           
            let level = classInfo.level;
            if (level === "B") {
                level = "Beginner"
            } else if (level === "D") {
                level = "Development"
            }

           const divBody = document.querySelector("#div-body")
           const divTag = document.createElement("div")
           divTag.innerHTML =`<div class="col">
                            <div class="card">
                                <img src="img/example.jpg" class="card-img-top" alt="...">
                                <div class="card-body">
                                <h5 class="card-title">${classInfo.title}</h5>
                                </div>
                                </div>
                            <div class="tag-btn">
                            <button id="re-btn">${classInfo.cityName}</button>
                            <button id="lv-btn">${level}</button>
                            </div>
                        </div>`

                 divBody.appendChild(divTag)
       }
    })
}

    
loadData(`/market/list?regionName=${regionSelect.value}&cityName=${city.value}`)


$(document).on('click', '#re-btn', (e) => {
    const btnInfo = e.target.innerText
    
    if (btnInfo === "강서구") {
        console.log("테스트 완료")
    }
    
})


</script>

</body>
</html>