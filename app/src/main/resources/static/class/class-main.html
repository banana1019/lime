<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="../node_modules/jquery/dist/jquery.min.js"></script>
<!-- header, footer 삽입 제이쿼리-->
<script type="text/javascript">

    $(document).ready(function(){
        $('.footer').load('../footer/footer.html');
        $(".header").load("../header/user/header.html");
    })
</script>
</head>
<link href="css.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>



<body>






<div class="header"></div>
<div id="body-wrapper">
    <div class="content-body">
        <div class="search">
            <select class="re-search">
                <option>지역</option>
                <option>서울특별시</option>
            </select>
            <select class="re-search">
                <option>도시</option>
                <option>관악구</option>
            </select>
    <i class="fas fa-search"></i>
    <input type="text" placeholder="검색어를 입력해주세요." style="width:300px;">
    <a href="createClass-1.html"><button id="open-btn" type="button">클래스 개설하기</button></a>

        </div>
            <div class="div-container">
                <div id="div-body" class="row row-cols-1 row-cols-md-3 g-4">
                </div>
            </div>
        </div>
    </div>
</div>



<div class="footer"></div>







<!-- header, footer 삽입 제이쿼리-->
<!-- <script type="text/javascript">

    $(document).ready(function(){
        $('.footer').load('../footer/footer.html');
        $("#footer-wrapper").load("/footer/footer.html");
    })
</script> -->


<script>









function loadData(data) {
    fetch(data)
      .then((response) => {
            return response.json()
      }).then((classList) => {
       console.log(classList)

       for (const classInfo of classList) {
           
            let level = classInfo.level;
            if (level === "B") {
                level = "Beginner"
            } else if (level === "D") {
                level = "Development"
            } else if (level === "I") {
                level = "Development"
            } else if (level === "") {
                level = "Development"
            } else if (level === "D") {
                level = "Development"
            }

           const divBody = document.querySelector("#div-body")
           const divTag = document.createElement("div")
           divTag.innerHTML =`<div class="col">
                            <div class="card">
                                <img src="img/img.png" class="card-img-top" alt="...">
                                <div class="card-body">
                                <h5 class="card-title">${classInfo.title}</h5>
                                </div>
                                </div>
                            <div class="tag-btn">
                            <button id="re-btn">${classInfo.cityName}</button>
                            <button id="lv-btn">${level}</button>
                            </div>
                        </div>`

                 divBody.appendChild(divTag)
       }
    })
}

    
loadData("/class/list")

regionSelect.addEventListener('change', (event) => {
    let value = event.target.value;
    let add;
    if (value == "서울특별시") {
        add = Region1.seoul;
      } else if (value == "부산광역시") {
        add = Region1.busan;
      } else if (value == "대구광역시") {
        add = Region1.daegu;
      } else if (value == "인천광역시") {
        add = Region1.incheon;
      } else if (value == "광주광역시") {
        add = Region1.gwangju;
      } else if (value == "대전광역시") {
        add = Region1.daejeon;
      } else if (value == "울산광역시") {
        add = Region1.ulsan;
      } else if (value == "세종특별자치시") {
        add = Region1.sejong;
      } else if (value == "경기도") {
        add = Region1.gyeonggi;
      } else if (value == "강원도") {
        add = Region1.gangwon;
      } else if (value == "충청북도") {
        add = Region1.chungbuk;
      } else if (value == "충청남도") {
        add = Region1.chungnam;
      } else if (value == "전라북도") {
        add = Region1.jeonbuk;
      } else if (value == "전라남도") {
        add = Region1.jeonnam;
      } else if (value == "경상북도") {
        add = Region1.gyeongbuk;
      } else if (value == "경상남도") {
        add = Region1.gyeongnam;
      } else if (value == "제주특별자치도") {
        add = Region1.jeju;
      } else if(value == "전체") {
        add = ["도시"];
      }
      city.options.length = 1;
    
      for (let property in add) {
        let opt = document.createElement("option");
        opt.value = add[property];
        opt.innerHTML = add[property];
        city.appendChild(opt);
      }
    
      listFetch();
});

// 도시 선택
city.addEventListener('change', (event) => {
    listFetch();
})


</script>

</body>
</html>