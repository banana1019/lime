<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Columns & Gutter</title>

  <!-- Bootstrap CSS -->
     <link rel="stylesheet" href="../../node_modules/bootstrap/dist/css/bootstrap.min.css">
   <!-- <link rel="stylesheet" href="../../css/common.css">-->
   <!-- <link rel="stylesheet" href="manageUser.css">-->
    <link href="https://hangeul.pstatic.net/hangeul_static/css/nanum-gothic.css" rel="stylesheet">
<!--     <link rel="import" href="../static/header/user/adminHeader.html">
    <link rel="import" href="static/footer/footer.html"> -->
   <link rel="stylesheet" href="../../header/mgrHeader.css">
    <link rel="stylesheet" href="../../footer/footer.css">
</head>
<body>

  <div id="tables" class="container table-responsive">
      <div id="headers">
  </div>
    <table id="x-table" class="table table-striped table-hover table-bordered border-primary text-center">
     
      <!-- table-dark table-success table-borderless etc -->
      <thead>
        <tr id="x-thead">
          <th scope="col"><input type="checkbox"></th>
          <th scope="col">번호</th>
          <th scope="col">이름</th>
          <th scope="col">이메일</th>
          <th scope="col">회원유형</th>
          <th scope="col">가입일자</th>
          <th scope="col">라임캐시</th>
          <th scope="col">상세</th>
        </tr>
      </thead>
      <tbody id ="x-tbody">
      </tbody>
    </table>
  </div>

<script src="../../node_modules/jquery/dist/jquery.min.js"></script>
<script type="text/javascript">

var xTbody = document.querySelector("#x-tbody"); 

fetch(`/manage/user/list`)
.then(function(response){
  return response.json();
})
.then(function(manages){
  console.log(manages);
  var content= '';
  for(var manage of manages){
    console.log( manage)

      content+= `
        <tr id = "xTr">
          <th scope="row">
            <input type="checkbox">
          </th>
          <td id="x-no">${manage.no}</td>
          <td>${manage.name}</td>
          <td>${manage.email}</td>
          <td>${manage.userType}</td>
          <td>${manage.rgtDate}</td>
          <td>${manage.sum}</td>
          <td><button id="detailBtn"  class="btn btn-outline-success" type="button" value= "${manage.no}">상세</td>
        </tr>`

    }
    xTbody.innerHTML =content
  });
 

  $(document).ready(function () {
        $("#headers").load("/header/manager/header.html");  //헤더 인클루드&ndash;&gt;
/*         $("#sidebar").load("/header/sidebar/sidebar.html");  //헤더 인클루드--> */
  $(document).on("click", "button[id='detailBtn']", function () {

      location.href = "userDetail.html?no=" +$(this).val();

  });
});
  
  
</script>
</body>
</html>