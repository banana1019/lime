<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
  <meta name="generator" content="Hugo 0.88.1">
  <title>라임</title>


  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.min.css">

  <link href="https://hangeul.pstatic.net/hangeul_static/css/nanum-gothic.css" rel="stylesheet">
  <link href="https://hangeul.pstatic.net/hangeul_static/css/nanum-barun-gothic.css" rel="stylesheet">

  <style>
    .bd-placeholder-img {
      font-size: 1.125rem;
      text-anchor: middle;
      -webkit-user-select: none;
      -moz-user-select: none;
      user-select: none;
    }

    @media (min-width: 768px) {
      .bd-placeholder-img-lg {
        font-size: 3.5rem;
      }
    }
  </style>


  <!-- Custom styles for this template -->
  <!-- <link rel="stylesheet" href="../header/user/u-header.css"> -->
  <link href="social_match.css" rel="stylesheet">

  <script src="../node_modules/jquery/dist/jquery.min.js"></script>

  <script type="text/javascript">
    $(document).ready(function () {
      $("#x-header").load("/header/user/header.html");  //헤더 인클루드
      $("#x-footer").load("/footer/footer.html");
    });
  </script>
</head>

<body>

  <div id="x-header" class="d-flex bd-highlight mb-3"></div>

  <!-- <nav id="u-nav-bar">
    <div id="u-header" class="header">
      <div class="nav-logo"><a href="/header/user/header.html">lime</a></div>
      <div class="nav-menu-div">
        <ul id="u-nav-menu">
          <li><a href="#">소셜매치</a></li>
          <li><a href="#">코트예약</a></li>
          <li><a href="#">클래스</a></li>
          <li><a href="#">라임마켓</a></li>
          <li><a href="#">클럽</a></li>
          <li><a href="#">커뮤니티</a></li>
        </ul>
      </div>
      <div class="nav-links-div">
        <ul class="u-nav-links">
          <li><a href="../../login/login.html">로그인</a></li>
          <li><a href="#">|</a></li>
          <li><a href="../../signup/signup1.html">회원가입</a></li>
        </ul>
      </div>
    </div>
  </nav> -->

  <main class="social-match my-5">

    <div class="d-flex justify-content-between mb-3">
      <div class="d-flex w-100">
        <select class="form-select" aria-label="year" name="" id="">
          <option selected>지역</option>
        </select>
        <select class="form-select" aria-label="year" name="" id="">
          <option selected>도시</option>
        </select>
        <select class="form-select" aria-label="year" name="" id="">
          <option selected>레벨</option>
        </select>
        <select class="form-select" aria-label="year" name="" id="">
          <option selected>성별</option>
        </select>
        <select class="form-select" aria-label="year" name="" id="">
          <option selected>코트</option>
        </select>
      </div>
      <select class="form-select" aria-label="year" name="" id="preferred">
        <option selected>내 선호</option>
      </select>
    </div>

    <ul class="list-group list-group-flush match-list">
      <!-- <a href="#" class="list-group-item list-group-item-action">
        <div class="d-flex w-100 justify-content-between align-items-center">
          <div>
            <div class="d-flex justify-content-start align-items-center">
              <div class="me-4 match-time">10:00</div>
              <div class="ms-1">
                <h6 class="mb-1">인천 시립 테니스장 코트1</h6>
                <p class="text-muted match-info">남녀혼성 · 1vs1 · 모든 레벨</p>
              </div>
            </div>
          </div>
          <button class="btn match-btn">신청 가능</button>
        </div>
      </a>
      <a href="#" class="list-group-item list-group-item-action">
        <div class="d-flex w-100 justify-content-between align-items-center">
          <div>
            <div class="d-flex justify-content-start align-items-center">
              <div class="me-4 match-time">10:00</div>
              <div class="ms-1">
                <h6 class="mb-1">인천 시립 테니스장 코트1</h6>
                <p class="text-muted match-info">남녀혼성 · 1vs1 · 모든 레벨</p>
              </div>
            </div>
          </div>
          <button class="btn match-btn">신청 가능</button>
        </div>
      </a>
      <a href="#" class="list-group-item list-group-item-action">
        <div class="d-flex w-100 justify-content-between align-items-center">
          <div>
            <div class="d-flex justify-content-start align-items-center">
              <div class="me-4 match-time">10:00</div>
              <div class="ms-1">
                <h6 class="mb-1">인천 시립 테니스장 코트1</h6>
                <p class="text-muted match-info">남녀혼성 · 1vs1 · 모든 레벨</p>
              </div>
            </div>
          </div>
          <button class="btn match-btn">신청 가능</button>
        </div>
      </a> -->
    </ul>


  </main>

  <div id="x-footer"></div>

  <!-- <script id="tr-template" type="text/x-handlebars-template">
  {{#each this}}
    <tr>
      <td>{{no}}</td>
      <td><a href="view.html?no={{no}}">{{name}}</a></td>
      <td>{{email}}</td>
      <td>{{tels.[0].tel}}</td>
      <td>{{company}}</td>
    </tr>
  {{/each}}
  </script> -->

  <script src="../node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
  <script src="../node_modules/handlebars/dist/handlebars.min.js"></script>
  <script src="../node_modules/jquery/dist/jquery.min.js"></script>
  <script type="text/javascript">
    $(document).ready(function () {
      $.getJSON("http://localhost:8080/match/list", function (arr) {
        console.log(arr)
        const matchList = $(".match-list")
        let str = ''
        for (let i = 0; i < arr.length; i++) {
          let state = ''
          let aaa = ''
          if (arr[i].state === 'A') {
            state = '신청 가능'
          } else {
            state = '마감'
            aaa = 'closed-btn'
          }
          /*let matchType = ''
          if (arr[i].matchTypeNo === 1) {
            matchType = '남자'
          } else if (arr[i].matchTypeNo === 2) {
            matchType = '여자'
          } else {
            matchType = '혼성'
          }*/
          str += `
          <a href="/social_match/social_match_3.html" class="list-group-item list-group-item-action">
            <div class="d-flex w-100 justify-content-between align-items-center">
              <div>
                <div class="d-flex justify-content-start align-items-center">
                  <div class="me-4 match-time">${arr[i].startTime.slice(0, 5)}</div>
                  <div class="ms-1">
                    <h6 class="mb-1">${arr[i].court.field.name} ${arr[i].court.name}</h6>
                    <p class="text-muted match-info">${checkMatchType(arr[i].matchTypeNo)} · ${checkNumOfPeople(arr[i].numOfPeople)} · ${checkLevel(arr[i].levelNo)}</p>
                  </div>
                </div>
              </div>
              <button class="btn match-btn ${aaa}">${state}</button>
              </div>
            </a>`
        }
        $(".match-list").html(str)
      })
    })

    function checkMatchType(matchTypeNo) {
      switch (matchTypeNo) {
        case 1: return '남자'
        case 2: return '여자'
        case 3: return '혼성'
      }
    }

    function checkNumOfPeople(numOfPeople) {
      switch (numOfPeople) {
        case 'S': return '1vs1'
        case 'D': return '2vs2'
      }
    }


    function checkLevel(level) {
      switch (level) {
        case 1: return '모든 레벨'
        case 2: return 'BEGINNER'
        case 3: return 'INTERMEDIATE'
        case 4: return 'ADVANCED'
        case 5: return 'PRO'
      }
    }

    console.log(checkLevel(5))


  </script>

</body>

</html>