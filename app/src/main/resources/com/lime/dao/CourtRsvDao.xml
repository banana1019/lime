<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.lime.dao.CourtRsvDao">

<resultMap type="CourtRsv" id="courtRsvMap"></resultMap>

<insert id="insert" parameterType="CourtRsv">
    INSERT INTO court_rsv2(field_id, court_id, date_time, lime_id)
    VALUE       (#{fieldId},#{courtId},#{dateTime},#{limeId})
</insert>

<select id="findByDate" parameterType="String" resultMap="courtRsvMap">
    SELECT field_id, court_id, date_time
    FROM   court_rsv2
    WHERE  date_format(#{date}, '%y%m%d') &lt;= date_time
    AND    date_time &lt; date_format(#{date} + 1, '%y%m%d')
</select>

</mapper>